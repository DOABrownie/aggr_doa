import{Dexie as e}from"./dexie.min.5c4cb14.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function t(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function n(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function r(e){return[e.schema.primKey].concat(e.schema.indexes).map((function(e){return e.src})).join(",")}function o(e,t){return new Promise((function(n,r){var o=new FileReader;o.onabort=function(e){return r(new Error("file read aborted"))},o.onerror=function(e){return r(e.target.error)},o.onload=function(e){return n(e.target.result)},"binary"===t?o.readAsArrayBuffer(e):o.readAsText(e)}))}function i(e,t){if("undefined"==typeof FileReaderSync)throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync;return"binary"===t?n.readAsArrayBuffer(e):n.readAsText(e)}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,t){return e(t={exports:{}},t.exports),t.exports}for(var u=s((function(e,t){e.exports=function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=Object.keys,o=Array.isArray,i={}.toString,a=Object.getPrototypeOf,s={}.hasOwnProperty,u=s.toString,c=["type","replaced","iterateIn","iterateUnsetNumeric"];function l(e,t){return y.isObject(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function f(e){return i.call(e).slice(8,-1)}function d(t,n){if(!t||"object"!==(void 0===t?"undefined":e(t)))return!1;var r=a(t);if(!r)return!1;var o=s.call(r,"constructor")&&r.constructor;return"function"!=typeof o?null===n:"function"==typeof o&&null!==n&&u.call(o)===u.call(n)}function p(e){return!(!e||"Object"!==f(e))&&(!a(e)||d(e,Object))}function h(t){return t&&"object"===(void 0===t?"undefined":e(t))}function y(i){var a=[],s=[],u={},f=this.types={},m=this.stringify=function(e,t,n,r){r=Object.assign({},i,r,{stringification:!0});var a=O(e,null,r);return o(a)?JSON.stringify(a[0],t,n):a.then((function(e){return JSON.stringify(e,t,n)}))};this.stringifySync=function(e,t,n,r){return m(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,t,n,r){return m(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var E=this.parse=function(e,t,n){return n=Object.assign({},i,n,{parse:!0}),S(JSON.parse(e,t),n)};this.parseSync=function(e,t,n){return E(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(e,t,n){return E(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)},this.rootTypeName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)};var O=this.encapsulate=function(l,f,b){var m=(b=Object.assign({sync:!0},i,b)).sync,g={},w=[],E=[],O=[],S=!(b&&"cyclic"in b)||b.cyclic,A=b.encapsulateObserver,T=P("",l,S,f||{},O);function N(e){var t=Object.values(g);if(b.iterateNone)return t.length?t[0]:y.getJSONType(e);if(t.length){if(b.returnTypeNames)return[].concat(n(new Set(t)));e&&p(e)&&!e.hasOwnProperty("$types")?e.$types=g:e={$:e,$types:{$:g}}}else h(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!b.returnTypeNames&&e}return O.length?m&&b.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(n,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(o){return Promise.all(o.map((function(o){var i=[],a=r.splice(0,1)[0],s=t(a,7),u=s[0],c=s[2],l=s[3],f=s[4],p=s[5],h=s[6],y=P(u,o,c,l,i,!0,h),b=d(y,_);return u&&b?y.p.then((function(t){return f[p]=t,e(n,i)})):(u?f[p]=y:n=b?y.p:y,e(n,i))})))})).then((function(){return n}))}(T,O)).then(N):!m&&b.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():b.stringification&&m?[N(T)]:m?N(T):Promise.resolve(N(T));function I(e,t,n){Object.assign(e,t);var r=c.map((function(t){var n=e[t];return delete e[t],n}));n(),c.forEach((function(t,n){e[t]=r[n]}))}function P(t,n,i,s,u,c,l){var f=void 0,h={},m=void 0===n?"undefined":e(n),O=A?function(e){var r=l||s.type||y.getJSONType(n);A(Object.assign(e||h,{keypath:t,value:n,cyclic:i,stateObj:s,promisesData:u,resolvingTypesonPromise:c,awaitingTypesonPromise:d(n,_)},void 0!==r?{type:r}:{}))}:null;if(m in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===m&&(isNaN(n)||n===-1/0||n===1/0)?(f=x(t,n,s,u,!1,c,O))!==n&&(h={replaced:f}):f=n,O&&O(),f;if(null===n)return O&&O(),n;if(i&&!s.iterateIn&&!s.iterateUnsetNumeric){var S=w.indexOf(n);if(!(S<0))return g[t]="#",O&&O({cyclicKeypath:E[S]}),"#"+E[S];!0===i&&(w.push(n),E.push(t))}var T=p(n),N=o(n),C=(T||N)&&(!a.length||s.replaced)||s.iterateIn?n:x(t,n,s,u,T||N,null,O),j=void 0;if(C!==n?(f=C,h={replaced:C}):N||"array"===s.iterateIn?(j=new Array(n.length),h={clone:j}):T||"object"===s.iterateIn?h={clone:j={}}:""===t&&d(n,_)?(u.push([t,n,i,s,void 0,void 0,s.type]),f=n):f=n,O&&O(),b.iterateNone)return j||f;if(!j)return f;if(s.iterateIn){var L=function(e){var r={ownKeys:n.hasOwnProperty(e)};I(s,r,(function(){var r=t+(t?".":"")+v(e),o=P(r,n[e],!!i,s,u,c);d(o,_)?u.push([r,o,!!i,s,j,e,s.type]):void 0!==o&&(j[e]=o)}))};for(var U in n)L(U);O&&O({endIterateIn:!0,end:!0})}else r(n).forEach((function(e){var r=t+(t?".":"")+v(e);I(s,{ownKeys:!0},(function(){var t=P(r,n[e],!!i,s,u,c);d(t,_)?u.push([r,t,!!i,s,j,e,s.type]):void 0!==t&&(j[e]=t)}))})),O&&O({endIterateOwn:!0,end:!0});if(s.iterateUnsetNumeric){for(var B=n.length,R=function(e){if(!(e in n)){var r=t+(t?".":"")+e;I(s,{ownKeys:!1},(function(){var t=P(r,void 0,!!i,s,u,c);d(t,_)?u.push([r,t,!!i,s,j,e,s.type]):void 0!==t&&(j[e]=t)}))}},D=0;D<B;D++)R(D);O&&O({endIterateUnsetNumeric:!0,end:!0})}return j}function x(e,t,n,r,o,i,c){for(var l=o?a:s,f=l.length;f--;){var d=l[f];if(d.test(t,n)){var p=d.type;if(u[p]){var h=g[e];g[e]=h?[p].concat(h):p}return Object.assign(n,{type:p,replaced:!0}),!m&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),P(e,d[m||!d.replaceAsync?"replace":"replaceAsync"](t,n),S&&"readonly",n,r,i,p)):(c&&c({typeDetected:!0}),P(e,t,S&&"readonly",n,r,i,p))}}return t}};this.encapsulateSync=function(e,t,n){return O(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(e,t,n){return O(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var S=this.revive=function(e,n){var a=(n=Object.assign({sync:!0},i,n)).sync,s=e&&e.$types,c=!0;if(!s)return e;if(!0===s)return e.$;s.$&&p(s.$)&&(e=e.$,s=s.$,c=!1);var f=[],h={},y=function e(n,i,a,l,y,b){if(!c||"$types"!==n){var m=s[n];if(o(i)||p(i)){var _=o(i)?new Array(i.length):{};for(r(i).forEach((function(t){var r=e(n+(n?".":"")+v(t),i[t],a||_,l,_,t);d(r,w)?_[t]=void 0:void 0!==r&&(_[t]=r)})),i=_;f.length;){var E=t(f[0],4),O=E[0],S=E[1],A=E[2],T=E[3],N=g(O,S);if(d(N,w))A[T]=void 0;else{if(void 0===N)break;A[T]=N}f.splice(0,1)}}if(!m)return i;if("#"===m){var I=g(a,i.substr(1));return void 0===I&&f.push([a,i.substr(1),y,b]),I}var P=l.sync;return[].concat(m).reduce((function(e,t){var n=u[t];if(!n)throw new Error("Unregistered type: "+t);return n[P&&n.revive?"revive":!P&&n.reviveAsync?"reviveAsync":"revive"](e,h)}),i)}}("",e,null,n);return l(y=d(y,w)?void 0:y)?a&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():y:!a&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?y:Promise.resolve(y)};this.reviveSync=function(e,t){return S(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.reviveAsync=function(e,t){return S(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.register=function(e,t){return t=t||{},[].concat(e).forEach((function e(n){if(o(n))return n.map(e);n&&r(n).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(y.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[e],i=r.testPlainObjects?a:s,c=i.filter((function(t){return t.type===e}));if(c.length&&(i.splice(i.indexOf(c[0]),1),delete u[e],delete f[e]),r){if("function"==typeof r){var l=r;r={test:function(e){return e&&e.constructor===l},replace:function(e){return b({},e)},revive:function(e){return b(Object.create(l.prototype),e)}}}else o(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var d={type:e,test:r.test.bind(r)};r.replace&&(d.replace=r.replace.bind(r)),r.replaceAsync&&(d.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof t.fallback?t.fallback:t.fallback?0:1/0;if(r.testPlainObjects?a.splice(p,0,d):s.splice(p,0,d),r.revive||r.reviveAsync){var h={};r.revive&&(h.revive=r.revive.bind(r)),r.reviveAsync&&(h.reviveAsync=r.reviveAsync.bind(r)),u[e]=h}f[e]=r}}))})),this}}function b(e,t){return r(t).map((function(n){e[n]=t[n]})),e}function v(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function m(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function g(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[m(t.substr(0,n))];return void 0===r?void 0:g(r,t.substr(n+1))}return e[m(t)]}function w(){}function _(e){this.p=new Promise(e)}return _.prototype.then=function(e,t){var n=this;return new _((function(r,o){n.p.then((function(t){r(e?e(t):t)}),(function(e){n.p.catch((function(e){return t?t(e):Promise.reject(e)})).then(r,o)}))}))},_.prototype.catch=function(e){return this.then(null,e)},_.resolve=function(e){return new _((function(t){t(e)}))},_.reject=function(e){return new _((function(t,n){n(e)}))},["all","race"].map((function(e){_[e]=function(t){return new _((function(n,r){Promise[e](t.map((function(e){return e.p}))).then(n,r)}))}})),y.Undefined=w,y.Promise=_,y.isThenable=l,y.toStringTag=f,y.hasConstructorOf=d,y.isObject=h,y.isPlainObject=p,y.isUserObject=function e(t){if(!t||"Object"!==f(t))return!1;var n=a(t);return!n||d(t,Object)||e(n)},y.escapeKeyPathComponent=v,y.unescapeKeyPathComponent=m,y.getByKeyPath=g,y.getJSONType=function(t){return null===t?"null":o(t)?"array":void 0===t?"undefined":e(t)},y.JSON_TYPES=["null","boolean","number","string","array","object"],y}()})),c=s((function(e,t){e.exports=function(){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=Object.keys,o=Array.isArray,i={}.toString,s=Object.getPrototypeOf,u={}.hasOwnProperty,c=u.toString,l=["type","replaced","iterateIn","iterateUnsetNumeric"];function f(e,t){return b.isObject(e)&&"function"==typeof e.then&&(!t||"function"==typeof e.catch)}function d(e){return i.call(e).slice(8,-1)}function p(t,n){if(!t||"object"!==(void 0===t?"undefined":e(t)))return!1;var r=s(t);if(!r)return!1;var o=u.call(r,"constructor")&&r.constructor;return"function"!=typeof o?null===n:"function"==typeof o&&null!==n&&c.call(o)===c.call(n)}function h(e){return!(!e||"Object"!==d(e))&&(!s(e)||p(e,Object))}function y(t){return t&&"object"===(void 0===t?"undefined":e(t))}function b(i){var a=[],s=[],u={},c=this.types={},d=this.stringify=function(e,t,n,r){r=Object.assign({},i,r,{stringification:!0});var a=O(e,null,r);return o(a)?JSON.stringify(a[0],t,n):a.then((function(e){return JSON.stringify(e,t,n)}))};this.stringifySync=function(e,t,n,r){return d(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!0}))},this.stringifyAsync=function(e,t,n,r){return d(e,t,n,Object.assign({},{throwOnBadSyncType:!0},r,{sync:!1}))};var g=this.parse=function(e,t,n){return n=Object.assign({},i,n,{parse:!0}),S(JSON.parse(e,t),n)};this.parseSync=function(e,t,n){return g(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.parseAsync=function(e,t,n){return g(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))},this.specialTypeNames=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.returnTypeNames=!0,this.encapsulate(e,t,n)},this.rootTypeName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.iterateNone=!0,this.encapsulate(e,t,n)};var O=this.encapsulate=function(c,f,d){var v=(d=Object.assign({sync:!0},i,d)).sync,g={},w=[],_=[],O=[],S=!(d&&"cyclic"in d)||d.cyclic,A=d.encapsulateObserver,T=P("",c,S,f||{},O);function N(e){var t=Object.values(g);if(d.iterateNone)return t.length?t[0]:b.getJSONType(e);if(t.length){if(d.returnTypeNames)return[].concat(n(new Set(t)));e&&h(e)&&!e.hasOwnProperty("$types")?e.$types=g:e={$:e,$types:{$:g}}}else y(e)&&e.hasOwnProperty("$types")&&(e={$:e,$types:!0});return!d.returnTypeNames&&e}return O.length?v&&d.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(function e(n,r){return Promise.all(r.map((function(e){return e[1].p}))).then((function(o){return Promise.all(o.map((function(o){var i=[],a=r.splice(0,1)[0],s=t(a,7),u=s[0],c=s[2],l=s[3],f=s[4],d=s[5],h=s[6],y=P(u,o,c,l,i,!0,h),b=p(y,E);return u&&b?y.p.then((function(t){return f[d]=t,e(n,i)})):(u?f[d]=y:n=b?y.p:y,e(n,i))})))})).then((function(){return n}))}(T,O)).then(N):!v&&d.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():d.stringification&&v?[N(T)]:v?N(T):Promise.resolve(N(T));function I(e,t,n){Object.assign(e,t);var r=l.map((function(t){var n=e[t];return delete e[t],n}));n(),l.forEach((function(t,n){e[t]=r[n]}))}function P(t,n,i,s,u,c,l){var f=void 0,y={},v=void 0===n?"undefined":e(n),O=A?function(e){var r=l||s.type||b.getJSONType(n);A(Object.assign(e||y,{keypath:t,value:n,cyclic:i,stateObj:s,promisesData:u,resolvingTypesonPromise:c,awaitingTypesonPromise:p(n,E)},void 0!==r?{type:r}:{}))}:null;if(v in{string:1,boolean:1,number:1,undefined:1})return void 0===n||"number"===v&&(isNaN(n)||n===-1/0||n===1/0)?(f=x(t,n,s,u,!1,c,O))!==n&&(y={replaced:f}):f=n,O&&O(),f;if(null===n)return O&&O(),n;if(i&&!s.iterateIn&&!s.iterateUnsetNumeric){var S=w.indexOf(n);if(!(S<0))return g[t]="#",O&&O({cyclicKeypath:_[S]}),"#"+_[S];!0===i&&(w.push(n),_.push(t))}var T=h(n),N=o(n),C=(T||N)&&(!a.length||s.replaced)||s.iterateIn?n:x(t,n,s,u,T||N,null,O),j=void 0;if(C!==n?(f=C,y={replaced:C}):N||"array"===s.iterateIn?(j=new Array(n.length),y={clone:j}):T||"object"===s.iterateIn?y={clone:j={}}:""===t&&p(n,E)?(u.push([t,n,i,s,void 0,void 0,s.type]),f=n):f=n,O&&O(),d.iterateNone)return j||f;if(!j)return f;if(s.iterateIn){var L=function(e){var r={ownKeys:n.hasOwnProperty(e)};I(s,r,(function(){var r=t+(t?".":"")+m(e),o=P(r,n[e],!!i,s,u,c);p(o,E)?u.push([r,o,!!i,s,j,e,s.type]):void 0!==o&&(j[e]=o)}))};for(var U in n)L(U);O&&O({endIterateIn:!0,end:!0})}else r(n).forEach((function(e){var r=t+(t?".":"")+m(e);I(s,{ownKeys:!0},(function(){var t=P(r,n[e],!!i,s,u,c);p(t,E)?u.push([r,t,!!i,s,j,e,s.type]):void 0!==t&&(j[e]=t)}))})),O&&O({endIterateOwn:!0,end:!0});if(s.iterateUnsetNumeric){for(var B=n.length,R=function(e){if(!(e in n)){var r=t+(t?".":"")+e;I(s,{ownKeys:!1},(function(){var t=P(r,void 0,!!i,s,u,c);p(t,E)?u.push([r,t,!!i,s,j,e,s.type]):void 0!==t&&(j[e]=t)}))}},D=0;D<B;D++)R(D);O&&O({endIterateUnsetNumeric:!0,end:!0})}return j}function x(e,t,n,r,o,i,c){for(var l=o?a:s,f=l.length;f--;){var d=l[f];if(d.test(t,n)){var p=d.type;if(u[p]){var h=g[e];g[e]=h?[p].concat(h):p}return Object.assign(n,{type:p,replaced:!0}),!v&&d.replaceAsync||d.replace?(c&&c({replacing:!0}),P(e,d[v||!d.replaceAsync?"replace":"replaceAsync"](t,n),S&&"readonly",n,r,i,p)):(c&&c({typeDetected:!0}),P(e,t,S&&"readonly",n,r,i,p))}}return t}};this.encapsulateSync=function(e,t,n){return O(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!0}))},this.encapsulateAsync=function(e,t,n){return O(e,t,Object.assign({},{throwOnBadSyncType:!0},n,{sync:!1}))};var S=this.revive=function(e,n){var a=(n=Object.assign({sync:!0},i,n)).sync,s=e&&e.$types,c=!0;if(!s)return e;if(!0===s)return e.$;s.$&&h(s.$)&&(e=e.$,s=s.$,c=!1);var l=[],d={},y=function e(n,i,a,f,y,b){if(!c||"$types"!==n){var v=s[n];if(o(i)||h(i)){var g=o(i)?new Array(i.length):{};for(r(i).forEach((function(t){var r=e(n+(n?".":"")+m(t),i[t],a||g,f,g,t);p(r,_)?g[t]=void 0:void 0!==r&&(g[t]=r)})),i=g;l.length;){var E=t(l[0],4),O=E[0],S=E[1],A=E[2],T=E[3],N=w(O,S);if(p(N,_))A[T]=void 0;else{if(void 0===N)break;A[T]=N}l.splice(0,1)}}if(!v)return i;if("#"===v){var I=w(a,i.substr(1));return void 0===I&&l.push([a,i.substr(1),y,b]),I}var P=f.sync;return[].concat(v).reduce((function(e,t){var n=u[t];if(!n)throw new Error("Unregistered type: "+t);return n[P&&n.revive?"revive":!P&&n.reviveAsync?"reviveAsync":"revive"](e,d)}),i)}}("",e,null,n);return f(y=p(y,_)?void 0:y)?a&&n.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():y:!a&&n.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():a?y:Promise.resolve(y)};this.reviveSync=function(e,t){return S(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!0}))},this.reviveAsync=function(e,t){return S(e,Object.assign({},{throwOnBadSyncType:!0},t,{sync:!1}))},this.register=function(e,t){return t=t||{},[].concat(e).forEach((function e(n){if(o(n))return n.map(e);n&&r(n).forEach((function(e){if("#"===e)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(b.JSON_TYPES.includes(e))throw new TypeError("Plain JSON object types are reserved as type names");var r=n[e],i=r.testPlainObjects?a:s,l=i.filter((function(t){return t.type===e}));if(l.length&&(i.splice(i.indexOf(l[0]),1),delete u[e],delete c[e]),r){if("function"==typeof r){var f=r;r={test:function(e){return e&&e.constructor===f},replace:function(e){return v({},e)},revive:function(e){return v(Object.create(f.prototype),e)}}}else o(r)&&(r={test:r[0],replace:r[1],revive:r[2]});var d={type:e,test:r.test.bind(r)};r.replace&&(d.replace=r.replace.bind(r)),r.replaceAsync&&(d.replaceAsync=r.replaceAsync.bind(r));var p="number"==typeof t.fallback?t.fallback:t.fallback?0:1/0;if(r.testPlainObjects?a.splice(p,0,d):s.splice(p,0,d),r.revive||r.reviveAsync){var h={};r.revive&&(h.revive=r.revive.bind(r)),r.reviveAsync&&(h.reviveAsync=r.reviveAsync.bind(r)),u[e]=h}c[e]=r}}))})),this}}function v(e,t){return r(t).map((function(n){e[n]=t[n]})),e}function m(e){return e.replace(/~/g,"~0").replace(/\./g,"~1")}function g(e){return e.replace(/~1/g,".").replace(/~0/g,"~")}function w(e,t){if(""===t)return e;var n=t.indexOf(".");if(n>-1){var r=e[g(t.substr(0,n))];return void 0===r?void 0:w(r,t.substr(n+1))}return e[g(t)]}function _(){}function E(e){this.p=new Promise(e)}E.prototype.then=function(e,t){var n=this;return new E((function(r,o){n.p.then((function(t){r(e?e(t):t)}),(function(e){n.p.catch((function(e){return t?t(e):Promise.reject(e)})).then(r,o)}))}))},E.prototype.catch=function(e){return this.then(null,e)},E.resolve=function(e){return new E((function(t){t(e)}))},E.reject=function(e){return new E((function(t,n){n(e)}))},["all","race"].map((function(e){E[e]=function(t){return new E((function(n,r){Promise[e](t.map((function(e){return e.p}))).then(n,r)}))}})),b.Undefined=_,b.Promise=E,b.isThenable=f,b.toStringTag=d,b.hasConstructorOf=p,b.isObject=y,b.isPlainObject=h,b.isUserObject=function e(t){if(!t||"Object"!==d(t))return!1;var n=s(t);return!n||p(t,Object)||e(n)},b.escapeKeyPathComponent=m,b.unescapeKeyPathComponent=g,b.getByKeyPath=w,b.getJSONType=function(t){return null===t?"null":o(t)?"array":void 0===t?"undefined":e(t)},b.JSON_TYPES=["null","boolean","number","string","array","object"];for(var O={userObject:{test:function(e,t){return b.isUserObject(e)},replace:function(e){return Object.assign({},e)},revive:function(e){return e}}},S=[[{sparseArrays:{testPlainObjects:!0,test:function(e){return Array.isArray(e)},replace:function(e,t){return t.iterateUnsetNumeric=!0,e}}},{sparseUndefined:{test:function(e,t){return void 0===e&&!1===t.ownKeys},replace:function(e){return null},revive:function(e){}}}],{undef:{test:function(e,t){return void 0===e&&(t.ownKeys||!("ownKeys"in t))},replace:function(e){return null},revive:function(e){return new b.Undefined}}}],A={StringObject:{test:function(t){return"String"===b.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return String(e)},revive:function(e){return new String(e)}},BooleanObject:{test:function(t){return"Boolean"===b.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return Boolean(e)},revive:function(e){return new Boolean(e)}},NumberObject:{test:function(t){return"Number"===b.toStringTag(t)&&"object"===(void 0===t?"undefined":e(t))},replace:function(e){return Number(e)},revive:function(e){return new Number(e)}}},T=[{nan:{test:function(e){return"number"==typeof e&&isNaN(e)},replace:function(e){return"NaN"},revive:function(e){return NaN}}},{infinity:{test:function(e){return e===1/0},replace:function(e){return"Infinity"},revive:function(e){return 1/0}}},{negativeInfinity:{test:function(e){return e===-1/0},replace:function(e){return"-Infinity"},revive:function(e){return-1/0}}}],N={date:{test:function(e){return"Date"===b.toStringTag(e)},replace:function(e){var t=e.getTime();return isNaN(t)?"NaN":t},revive:function(e){return"NaN"===e?new Date(NaN):new Date(e)}}},I={regexp:{test:function(e){return"RegExp"===b.toStringTag(e)},replace:function(e){return{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")}},revive:function(e){var t=e.source,n=e.flags;return new RegExp(t,n)}}},P={map:{test:function(e){return"Map"===b.toStringTag(e)},replace:function(e){return Array.from(e.entries())},revive:function(e){return new Map(e)}}},x={set:{test:function(e){return"Set"===b.toStringTag(e)},replace:function(e){return Array.from(e.values())},revive:function(e){return new Set(e)}}},C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=new Uint8Array(256),L=0;L<C.length;L++)j[C.charCodeAt(L)]=L;var U=function(e,t,n){for(var r=new Uint8Array(e,t,n),o=r.length,i="",a=0;a<o;a+=3)i+=C[r[a]>>2],i+=C[(3&r[a])<<4|r[a+1]>>4],i+=C[(15&r[a+1])<<2|r[a+2]>>6],i+=C[63&r[a+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},B=function(e){var t=e.length,n=.75*e.length,r=0,o=void 0,i=void 0,a=void 0,s=void 0;"="===e[e.length-1]&&(n--,"="===e[e.length-2]&&n--);for(var u=new ArrayBuffer(n),c=new Uint8Array(u),l=0;l<t;l+=4)o=j[e.charCodeAt(l)],i=j[e.charCodeAt(l+1)],a=j[e.charCodeAt(l+2)],s=j[e.charCodeAt(l+3)],c[r++]=o<<2|i>>4,c[r++]=(15&i)<<4|a>>2,c[r++]=(3&a)<<6|63&s;return u},R={arraybuffer:{test:function(e){return"ArrayBuffer"===b.toStringTag(e)},replace:function(e,t){t.buffers||(t.buffers=[]);var n=t.buffers.indexOf(e);return n>-1?{index:n}:(t.buffers.push(e),U(e))},revive:function(t,n){if(n.buffers||(n.buffers=[]),"object"===(void 0===t?"undefined":e(t)))return n.buffers[t.index];var r=B(t);return n.buffers.push(r),r}}},D="undefined"==typeof self?a:self,k={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=D[t];n&&(k[e.toLowerCase()]={test:function(e){return b.toStringTag(e)===t},replace:function(e,t){var n=e.buffer,r=e.byteOffset,o=e.length;t.buffers||(t.buffers=[]);var i=t.buffers.indexOf(n);return i>-1?{index:i,byteOffset:r,length:o}:(t.buffers.push(n),{encoded:U(n),byteOffset:r,length:o})},revive:function(e,t){t.buffers||(t.buffers=[]);var r=e.byteOffset,o=e.length,i=e.encoded,a=e.index,s=void 0;return"index"in e?s=t.buffers[a]:(s=B(i),t.buffers.push(s)),new n(s,r,o)}})}));var G={dataview:{test:function(e){return"DataView"===b.toStringTag(e)},replace:function(e,t){var n=e.buffer,r=e.byteOffset,o=e.byteLength;t.buffers||(t.buffers=[]);var i=t.buffers.indexOf(n);return i>-1?{index:i,byteOffset:r,byteLength:o}:(t.buffers.push(n),{encoded:U(n),byteOffset:r,byteLength:o})},revive:function(e,t){t.buffers||(t.buffers=[]);var n=e.byteOffset,r=e.byteLength,o=e.encoded,i=e.index,a=void 0;return"index"in e?a=t.buffers[i]:(a=B(o),t.buffers.push(a)),new DataView(a,n,r)}}},F={IntlCollator:{test:function(e){return b.hasConstructorOf(e,Intl.Collator)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.Collator(e.locale,e)}},IntlDateTimeFormat:{test:function(e){return b.hasConstructorOf(e,Intl.DateTimeFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.DateTimeFormat(e.locale,e)}},IntlNumberFormat:{test:function(e){return b.hasConstructorOf(e,Intl.NumberFormat)},replace:function(e){return e.resolvedOptions()},revive:function(e){return new Intl.NumberFormat(e.locale,e)}}};function M(e){for(var t=new Uint16Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}var V={file:{test:function(e){return"File"===b.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&t.overrideMimeType("text/plain; charset=utf-16le"),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return t.send(),{type:e.type,stringContents:t.responseText,name:e.name,lastModified:e.lastModified}},revive:function(e){var t=e.name,n=e.type,r=e.stringContents,o=e.lastModified,i=M(r);return new File([i],t,{type:n,lastModified:o})},replaceAsync:function(e){return new b.Promise((function(t,n){if(e.isClosed)n(new Error("The File is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result,name:e.name,lastModified:e.lastModified})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(e,"UTF-16")}}))}}};return[O,S,A,T,N,I,{imagedata:{test:function(e){return"ImageData"===b.toStringTag(e)},replace:function(e){return{array:Array.from(e.data),width:e.width,height:e.height}},revive:function(e){return new ImageData(new Uint8ClampedArray(e.array),e.width,e.height)}}},{imagebitmap:{test:function(e){return"ImageBitmap"===b.toStringTag(e)||e&&e.dataset&&"ImageBitmap"===e.dataset.toStringTag},replace:function(e){var t=document.createElement("canvas");return t.getContext("2d").drawImage(e,0,0),t.toDataURL()},revive:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=e,t},reviveAsync:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=document.createElement("img");return r.onload=function(){n.drawImage(r,0,0)},r.src=e,createImageBitmap(t)}}},V,{file:V.file,filelist:{test:function(e){return"FileList"===b.toStringTag(e)},replace:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.item(n);return t},revive:function(e){function t(){this._files=arguments[0],this.length=this._files.length}return t.prototype.item=function(e){return this._files[e]},t.prototype[Symbol.toStringTag]="FileList",new t(e)}}},{blob:{test:function(e){return"Blob"===b.toStringTag(e)},replace:function(e){var t=new XMLHttpRequest;if(t.open("GET",URL.createObjectURL(e),!1),"undefined"!=typeof TextEncoder&&t.overrideMimeType("text/plain; charset=utf-16le"),200!==t.status&&0!==t.status)throw new Error("Bad Blob access: "+t.status);return t.send(),{type:e.type,stringContents:t.responseText}},revive:function(e){var t=e.type,n=e.stringContents;return new Blob([M(n)],{type:t})},replaceAsync:function(e){return new b.Promise((function(t,n){if(e.isClosed)n(new Error("The Blob is closed"));else{var r=new FileReader;r.addEventListener("load",(function(){t({type:e.type,stringContents:r.result})})),r.addEventListener("error",(function(){n(r.error)})),r.readAsText(e,"UTF-16")}}))}}}].concat("function"==typeof Map?P:[],"function"==typeof Set?x:[],"function"==typeof ArrayBuffer?R:[],"function"==typeof Uint8Array?k:[],"function"==typeof DataView?G:[],"undefined"!=typeof Intl?F:[])}()})),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=new Uint8Array(256),d=0;d<64;d++)f[l.charCodeAt(d)]=d;var p=function(e,t,n){null==n&&(n=e.byteLength);for(var r=new Uint8Array(e,t||0,n),o=r.length,i="",a=0;a<o;a+=3)i+=l[r[a]>>2],i+=l[(3&r[a])<<4|r[a+1]>>4],i+=l[(15&r[a+1])<<2|r[a+2]>>6],i+=l[63&r[a+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},h=function(e){var t,n,r,o,i=e.length,a=.75*e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);for(var u=new ArrayBuffer(a),c=new Uint8Array(u),l=0;l<i;l+=4)t=f[e.charCodeAt(l)],n=f[e.charCodeAt(l+1)],r=f[e.charCodeAt(l+2)],o=f[e.charCodeAt(l+3)],c[s++]=t<<2|n>>4,c[s++]=(15&n)<<4|r>>2,c[s++]=(3&r)<<6|63&o;return u},y="undefined"==typeof self?global:self,b={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(e){var t=e,n=y[t];n&&(b[e.toLowerCase()+"2"]={test:function(e){return u.toStringTag(e)===t},replace:function(e){return{buffer:e.buffer,byteOffset:e.byteOffset,length:e.length}},revive:function(e){var t=e.buffer,r=e.byteOffset,o=e.length;return new n(t,r,o)}})}));var v={arraybuffer:{test:function(e){return"ArrayBuffer"===u.toStringTag(e)},replace:function(e){return p(e,0,e.byteLength)},revive:function(e){return h(e)}}},m=(new u).register(c),g="FileReaderSync"in self,w=[],_=0;m.register([v,b,{blob2:{test:function(e){return"Blob"===u.toStringTag(e)},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(g){var t=i(e,"binary"),n=p(t,0,t.byteLength);return{type:e.type,data:n}}w.push(e);var r={type:e.type,data:{start:_,end:_+e.size}};return _+=e.size,r},finalize:function(e,t){e.data=p(t,0,t.byteLength)},revive:function(e){var t=e.type,n=e.data;return new Blob([h(n)],{type:t})}}}]),m.mustFinalize=function(){return w.length>0},m.finalize=function(r){return t(void 0,void 0,void 0,(function(){var t,i,a,s,u,c,l,f,d,p;return n(this,(function(n){switch(n.label){case 0:return[4,o(new Blob(w),"binary")];case 1:if(t=n.sent(),r)for(i=0,a=r;i<a.length;i++)if((s=a[i]).$types)for(l in u=s.$types,(c=u.$)&&(u=u.$),u)f=u[l],(d=m.types[f])&&d.finalize&&(p=e.getByKeyPath(s,c?"$."+l:l),d.finalize(p,t.slice(p.start,p.end)));return w=[],[2]}}))}))};function E(o,i){return t(this,void 0,void 0,(function(){function a(){return t(this,void 0,void 0,(function(){var t,r,a,p,h,y,b,v,g;return n(this,(function(w){switch(w.label){case 0:return[4,Promise.all(o.tables.map((function(e){return e.count()})))];case 1:(t=w.sent()).forEach((function(e,t){return u[t].rowCount=e})),d.totalRows=t.reduce((function(e,t){return e+t})),r=JSON.stringify(l,void 0,c?2:void 0),a=r.lastIndexOf("]"),p=r.substring(0,a),s.push(p),h=i.filter,y=function(t){var r,a,u,l,p,y,b,v,g,w,_;return n(this,(function(E){switch(E.label){case 0:r=o.table(t),a=r.schema.primKey,u=!!a.keyPath,l=i.numRowsPerChunk||2e3,p=u?{tableName:r.name,inbound:!0,rows:[]}:{tableName:r.name,inbound:!1,rows:[]},y=JSON.stringify(p,void 0,c?2:void 0),c&&(y=y.split("\n").join("\n    ")),b=y.lastIndexOf("]"),s.push(y.substring(0,b)),v=null,g=0,w=!0,_=function(){var o,i,p,y,b,_,E,O;return n(this,(function(n){switch(n.label){case 0:return f&&e.ignoreTransaction((function(){return f(d)})),[4,(o=null==v?r.limit(l):r.where(":id").above(v).limit(l)).toArray()];case 1:return 0===(i=n.sent()).length?[2,"break"]:(null!=v&&g>0&&(s.push(","),c&&s.push("\n      ")),w=i.length===l,u?(p=h?i.filter((function(e){return h(t,e)})):i,y=p.map((function(e){return m.encapsulate(e)})),m.mustFinalize()?[4,e.waitFor(m.finalize(y))]:[3,3]):[3,4]);case 2:n.sent(),n.label=3;case 3:return O=JSON.stringify(y,void 0,c?2:void 0),c&&(O=O.split("\n").join("\n      ")),s.push(new Blob([O.substring(1,O.length-1)])),g=p.length,v=i.length>0?e.getByKeyPath(i[i.length-1],a.keyPath):null,[3,8];case 4:return[4,o.primaryKeys()];case 5:return b=n.sent(),_=b.map((function(e,t){return[e,i[t]]})),h&&(_=_.filter((function(e){var n=e[0],r=e[1];return h(t,r,n)}))),E=_.map((function(e){return m.encapsulate(e)})),m.mustFinalize()?[4,e.waitFor(m.finalize(E))]:[3,7];case 6:n.sent(),n.label=7;case 7:O=JSON.stringify(E,void 0,c?2:void 0),c&&(O=O.split("\n").join("\n      ")),s.push(new Blob([O.substring(1,O.length-1)])),g=_.length,v=b.length>0?b[b.length-1]:null,n.label=8;case 8:return d.completedRows+=i.length,[2]}}))},E.label=1;case 1:return w?[5,_()]:[3,3];case 2:return"break"===E.sent()?[3,3]:[3,1];case 3:return s.push(y.substr(b)),d.completedTables+=1,d.completedTables<d.totalTables&&s.push(","),[2]}}))},b=0,v=u,w.label=2;case 2:return b<v.length?(g=v[b].name,[5,y(g)]):[3,5];case 3:w.sent(),w.label=4;case 4:return b++,[3,2];case 5:return s.push(r.substr(a)),d.done=!0,f&&e.ignoreTransaction((function(){return f(d)})),[2]}}))}))}var s,u,c,l,f,d;return n(this,(function(t){switch(t.label){case 0:i=i||{},s=[],u=o.tables.map((function(e){return{name:e.name,schema:r(e),rowCount:0}})),c=i.prettyJson,l={formatName:"dexie",formatVersion:1,data:{databaseName:o.name,databaseVersion:o.verno,tables:u,data:[]}},f=i.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:o.tables.length},t.label=1;case 1:return t.trys.push([1,,6,7]),i.noTransaction?[4,a()]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,o.transaction("r",o.tables,a)];case 4:t.sent(),t.label=5;case 5:return[3,7];case 6:return m.finalize(),[7];case 7:return f&&e.ignoreTransaction((function(){return f(d)})),[2,new Blob(s,{type:"text/json"})]}}))}))}var O=1,S=function(){},A=s((function(e,t){!function(e){var t="object"==typeof process?{GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",LESSOPEN:"| /usr/bin/lesspipe %s",npm_config_puppeteer_skip_download:"true",LANGUAGE:"en_NZ:en",USER:"doabrownie",npm_config_user_agent:"npm/9.7.1 node/v20.2.0 linux x64 workspaces/false",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",XDG_SESSION_TYPE:"wayland",npm_node_execpath:"/home/doabrownie/.volta/tools/image/node/20.2.0/bin/node",SHLVL:"1",npm_config_noproxy:"",CHROME_DESKTOP:"code-url-handler.desktop",HOME:"/home/doabrownie",DESKTOP_SESSION:"ubuntu",TERM_PROGRAM_VERSION:"1.93.1",npm_package_json:"/home/doabrownie/projects/agg_doa/aggr_doa/package.json",GIO_LAUNCHED_DESKTOP_FILE:"/usr/share/applications/code.desktop",npm_config_auto_install_peers:"true",GNOME_SHELL_SESSION_MODE:"ubuntu",GTK_MODULES:"gail:atk-bridge",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",MANAGERPID:"1717",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",npm_config_userconfig:"/home/doabrownie/.npmrc",npm_config_local_prefix:"/home/doabrownie/projects/agg_doa/aggr_doa",DBUS_SESSION_BUS_ADDRESS:"unix:path=/run/user/1000/bus",IM_CONFIG_CHECK_ENV:"1",SYSTEMD_EXEC_PID:"1889",COLORTERM:"truecolor",GIO_LAUNCHED_DESKTOP_FILE_PID:"18437",COLOR:"0",VOLTA_HOME:"/home/doabrownie/.volta",_VOLTA_TOOL_RECURSION:"1",npm_config_metrics_registry:"https://registry.npmjs.org/",IM_CONFIG_PHASE:"1",WAYLAND_DISPLAY:"wayland-0",LOGNAME:"doabrownie",JOURNAL_STREAM:"8:14851",_:"/home/doabrownie/.volta/bin/npm",npm_config_prefix:"/home/doabrownie/.volta/tools/image/node/20.2.0",XDG_SESSION_CLASS:"user",TERM:"xterm-256color",USERNAME:"doabrownie",npm_config_cache:"/home/doabrownie/.npm",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_node_gyp:"/home/doabrownie/.volta/tools/image/node/20.2.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/doabrownie/projects/agg_doa/aggr_doa/node_modules/.bin:/home/doabrownie/projects/agg_doa/node_modules/.bin:/home/doabrownie/projects/node_modules/.bin:/home/doabrownie/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/doabrownie/.volta/tools/image/node/20.2.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/doabrownie/projects/agg_doa/aggr_doa/node_modules/.bin:/home/doabrownie/projects/agg_doa/node_modules/.bin:/home/doabrownie/projects/node_modules/.bin:/home/doabrownie/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/doabrownie/.volta/tools/image/node/20.2.0/bin:/home/doabrownie/projects/agg_doa/aggr_doa/node_modules/.bin:/home/doabrownie/projects/agg_doa/node_modules/.bin:/home/doabrownie/projects/node_modules/.bin:/home/doabrownie/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/doabrownie/.volta/tools/image/npm/9.7.1/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/doabrownie/.volta/tools/image/npm/9.7.1/bin:/home/doabrownie/.volta/tools/image/node/20.2.0/bin:/home/doabrownie/.volta/bin:/home/doabrownie/.volta/bin:/home/doabrownie/.local/bin:/home/doabrownie/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin",INVOCATION_ID:"8eca49627e494f528ae1ef24f278343c",SESSION_MANAGER:"local/doabrownie-System-Product-Name:@/tmp/.ICE-unix/1860,unix/doabrownie-System-Product-Name:/tmp/.ICE-unix/1860",NODE:"/home/doabrownie/.volta/tools/image/node/20.2.0/bin/node",npm_package_name:"aggr",GDK_BACKEND:"x11",GNOME_SETUP_DISPLAY:":1",XDG_MENU_PREFIX:"gnome-",XDG_RUNTIME_DIR:"/run/user/1000",DISPLAY:":0",LANG:"en_NZ.UTF-8",XDG_CURRENT_DESKTOP:"Unity",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",TERM_PROGRAM:"vscode",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-c797da6e22.sock",XAUTHORITY:"/run/user/1000/.mutter-Xwaylandauth.8DRIU2",XDG_SESSION_DESKTOP:"ubuntu",XMODIFIERS:"@im=ibus",npm_lifecycle_script:"vite build",ORIGINAL_XDG_CURRENT_DESKTOP:"ubuntu:GNOME",SSH_AGENT_LAUNCHER:"gnome-keyring",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",SHELL:"/bin/bash",npm_package_version:"3.6.0-hotfix.0",npm_lifecycle_event:"build",GDMSESSION:"ubuntu",QT_ACCESSIBILITY:"1",LESSCLOSE:"/usr/bin/lesspipe %s %s",GJS_DEBUG_OUTPUT:"stderr",QT_IM_MODULE:"ibus",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",npm_config_globalconfig:"/home/doabrownie/.volta/tools/image/node/20.2.0/etc/npmrc",npm_config_init_module:"/home/doabrownie/.npm-init.js",PWD:"/home/doabrownie/projects/agg_doa/aggr_doa",npm_execpath:"/home/doabrownie/.volta/tools/image/node/20.2.0/lib/node_modules/npm/bin/npm-cli.js",XDG_CONFIG_DIRS:"/etc/xdg/xdg-ubuntu:/etc/xdg",XDG_DATA_DIRS:"/usr/share/ubuntu:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop",npm_config_global_prefix:"/home/doabrownie/.volta/tools/image/node/20.2.0",npm_command:"run-script",INIT_CWD:"/home/doabrownie/projects/agg_doa/aggr_doa",EDITOR:"vi",NODE_ENV:"production",VITE_APP_VERSION:"3.6.0-hotfix.0",VITE_APP_BUILD_DATE:"25 sep",VITE_APP_EXCHANGES:"aggr,binance,binance_futures,binance_us,bitfinex,bitget,bitmart,bitmex,bitstamp,bybit,coinbase,cryptocom,deribit,dydx,gateio,hitbtc,huobi,kraken,kucoin,mexc,okex,phemex,poloniex,uniswap",VITE_APP_API_URL:"https://api.aggr.trade/",VITE_APP_PROXY_URL:"https://cors.aggr.trade/",VITE_APP_LIB_URL:"https://lib.aggr.trade/",VITE_APP_LIB_REPO_URL:"https://github.com/Tucsky/aggr-lib",VITE_APP_API_SUPPORTED_TIMEFRAMES:"5,10,15,30,60,180,300,900,1260,1800,3600,7200,14400,21600,28800,43200,86400",VITE_APP_BASE_PATH:"/aggr/",VITE_APP_PUBLIC_VAPID_KEY:"BNi_5_w2FU8LdTg5KxQvHYi0hXzyKMIYmYXin1nUyXEtXfyAAef0pe68v3hrQwDP00NPGPasGTrurB8Hmi3On7I"}:self;e.parser=function(e){return new l(e)},e.CParser=l,e.CStream=f,e.createStream=function(e){return new f(e)},e.MAX_BUFFER_LENGTH=10485760,e.DEBUG="debug"===t.CDEBUG,e.INFO="debug"===t.CDEBUG||"info"===t.CDEBUG,e.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var n,r={textNode:void 0,numberNode:""},o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e})),i=0;for(var a in e.STATE={BEGIN:i++,VALUE:i++,OPEN_OBJECT:i++,CLOSE_OBJECT:i++,OPEN_ARRAY:i++,CLOSE_ARRAY:i++,TEXT_ESCAPE:i++,STRING:i++,BACKSLASH:i++,END:i++,OPEN_KEY:i++,CLOSE_KEY:i++,TRUE:i++,TRUE2:i++,TRUE3:i++,FALSE:i++,FALSE2:i++,FALSE3:i++,FALSE4:i++,NULL:i++,NULL2:i++,NULL3:i++,NUMBER_DECIMAL_POINT:i++,NUMBER_DIGIT:i++},e.STATE)e.STATE[e.STATE[a]]=a;i=e.STATE;const s={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};function u(e){for(var t in r)e[t]=r[t]}Object.create||(Object.create=function(e){function t(){this.__proto__=e}return t.prototype=e,new t}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t});var c=/[\\"\n]/g;function l(t){if(!(this instanceof l))return new l(t);var n=this;u(n),n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.q=n.c=n.p="",n.opt=t||{},n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.state=i.BEGIN,n.stack=new Array,n.position=n.column=0,n.line=1,n.slashed=!1,n.unicodeI=0,n.unicodeS=null,n.depth=0,d(n,"onready")}l.prototype={end:function(){v(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return b(n,"Cannot write after close. Assign an onready handler.");if(null===t)return v(n);var o=0,a=t.charCodeAt(0),u=n.p;e.DEBUG;for(;a&&(u=a,n.c=a=t.charCodeAt(o++),u!==a?n.p=u:u=n.p,a);)switch(e.DEBUG,n.position++,a===s.lineFeed?(n.line++,n.column=0):n.column++,n.state){case i.BEGIN:a===s.openBrace?n.state=i.OPEN_OBJECT:a===s.openBracket?n.state=i.OPEN_ARRAY:m(a)||b(n,"Non-whitespace before {[.");continue;case i.OPEN_KEY:case i.OPEN_OBJECT:if(m(a))continue;if(n.state===i.OPEN_KEY)n.stack.push(i.CLOSE_KEY);else{if(a===s.closeBrace){d(n,"onopenobject"),this.depth++,d(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||i.VALUE;continue}n.stack.push(i.CLOSE_OBJECT)}a===s.doubleQuote?n.state=i.STRING:b(n,'Malformed object key should start with "');continue;case i.CLOSE_KEY:case i.CLOSE_OBJECT:if(m(a))continue;n.state,i.CLOSE_KEY,a===s.colon?(n.state===i.CLOSE_OBJECT?(n.stack.push(i.CLOSE_OBJECT),h(n,"onopenobject"),this.depth++):h(n,"onkey"),n.state=i.VALUE):a===s.closeBrace?(p(n,"oncloseobject"),this.depth--,n.state=n.stack.pop()||i.VALUE):a===s.comma?(n.state===i.CLOSE_OBJECT&&n.stack.push(i.CLOSE_OBJECT),h(n),n.state=i.OPEN_KEY):b(n,"Bad object");continue;case i.OPEN_ARRAY:case i.VALUE:if(m(a))continue;if(n.state===i.OPEN_ARRAY){if(d(n,"onopenarray"),this.depth++,n.state=i.VALUE,a===s.closeBracket){d(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||i.VALUE;continue}n.stack.push(i.CLOSE_ARRAY)}a===s.doubleQuote?n.state=i.STRING:a===s.openBrace?n.state=i.OPEN_OBJECT:a===s.openBracket?n.state=i.OPEN_ARRAY:a===s.t?n.state=i.TRUE:a===s.f?n.state=i.FALSE:a===s.n?n.state=i.NULL:a===s.minus?n.numberNode+="-":s._0<=a&&a<=s._9?(n.numberNode+=String.fromCharCode(a),n.state=i.NUMBER_DIGIT):b(n,"Bad value");continue;case i.CLOSE_ARRAY:if(a===s.comma)n.stack.push(i.CLOSE_ARRAY),h(n,"onvalue"),n.state=i.VALUE;else if(a===s.closeBracket)p(n,"onclosearray"),this.depth--,n.state=n.stack.pop()||i.VALUE;else{if(m(a))continue;b(n,"Bad array")}continue;case i.STRING:void 0===n.textNode&&(n.textNode="");var l=o-1,f=n.slashed,g=n.unicodeI;e:for(;;){for(e.DEBUG;g>0;)if(n.unicodeS+=String.fromCharCode(a),a=t.charCodeAt(o++),n.position++,4===g?(n.textNode+=String.fromCharCode(parseInt(n.unicodeS,16)),g=0,l=o-1):g++,!a)break e;if(a===s.doubleQuote&&!f){n.state=n.stack.pop()||i.VALUE,n.textNode+=t.substring(l,o-1),n.position+=o-1-l;break}if(a===s.backslash&&!f&&(f=!0,n.textNode+=t.substring(l,o-1),n.position+=o-1-l,a=t.charCodeAt(o++),n.position++,!a))break;if(f){if(f=!1,a===s.n?n.textNode+="\n":a===s.r?n.textNode+="\r":a===s.t?n.textNode+="\t":a===s.f?n.textNode+="\f":a===s.b?n.textNode+="\b":a===s.u?(g=1,n.unicodeS=""):n.textNode+=String.fromCharCode(a),a=t.charCodeAt(o++),n.position++,l=o-1,a)continue;break}c.lastIndex=o;var w=c.exec(t);if(null===w){o=t.length+1,n.textNode+=t.substring(l,o-1),n.position+=o-1-l;break}if(o=w.index+1,!(a=t.charCodeAt(w.index))){n.textNode+=t.substring(l,o-1),n.position+=o-1-l;break}}n.slashed=f,n.unicodeI=g;continue;case i.TRUE:a===s.r?n.state=i.TRUE2:b(n,"Invalid true started with t"+a);continue;case i.TRUE2:a===s.u?n.state=i.TRUE3:b(n,"Invalid true started with tr"+a);continue;case i.TRUE3:a===s.e?(d(n,"onvalue",!0),n.state=n.stack.pop()||i.VALUE):b(n,"Invalid true started with tru"+a);continue;case i.FALSE:a===s.a?n.state=i.FALSE2:b(n,"Invalid false started with f"+a);continue;case i.FALSE2:a===s.l?n.state=i.FALSE3:b(n,"Invalid false started with fa"+a);continue;case i.FALSE3:a===s.s?n.state=i.FALSE4:b(n,"Invalid false started with fal"+a);continue;case i.FALSE4:a===s.e?(d(n,"onvalue",!1),n.state=n.stack.pop()||i.VALUE):b(n,"Invalid false started with fals"+a);continue;case i.NULL:a===s.u?n.state=i.NULL2:b(n,"Invalid null started with n"+a);continue;case i.NULL2:a===s.l?n.state=i.NULL3:b(n,"Invalid null started with nu"+a);continue;case i.NULL3:a===s.l?(d(n,"onvalue",null),n.state=n.stack.pop()||i.VALUE):b(n,"Invalid null started with nul"+a);continue;case i.NUMBER_DECIMAL_POINT:a===s.period?(n.numberNode+=".",n.state=i.NUMBER_DIGIT):b(n,"Leading zero not followed by .");continue;case i.NUMBER_DIGIT:s._0<=a&&a<=s._9?n.numberNode+=String.fromCharCode(a):a===s.period?(-1!==n.numberNode.indexOf(".")&&b(n,"Invalid number has two dots"),n.numberNode+="."):a===s.e||a===s.E?(-1===n.numberNode.indexOf("e")&&-1===n.numberNode.indexOf("E")||b(n,"Invalid number has two exponential"),n.numberNode+="e"):a===s.plus||a===s.minus?(u!==s.e&&u!==s.E&&b(n,"Invalid symbol in number"),n.numberNode+=String.fromCharCode(a)):(y(n),o--,n.state=n.stack.pop()||i.VALUE);continue;default:b(n,"Unknown state: "+n.state)}n.position>=n.bufferCheckPosition&&function(t){var n=Math.max(e.MAX_BUFFER_LENGTH,10),o=0;for(var i in r){var a=void 0===t[i]?0:t[i].length;a>n&&("text"===i?closeText(t):b(t,"Max buffer length exceeded: "+i)),o=Math.max(o,a)}t.bufferCheckPosition=e.MAX_BUFFER_LENGTH-o+t.position}(n);return n},resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{n=S}catch(g){n=function(){}}function f(e){if(!(this instanceof f))return new f(e);this._parser=new l(e),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var t=this;n.apply(t),this._parser.onend=function(){t.emit("end")},this._parser.onerror=function(e){t.emit("error",e),t._parser.error=null},o.forEach((function(e){Object.defineProperty(t,"on"+e,{get:function(){return t._parser["on"+e]},set:function(n){if(!n)return t.removeAllListeners(e),t._parser["on"+e]=n,n;t.on(e,n)},enumerable:!0,configurable:!1})}))}function d(t,n,r){e.INFO,t[n]&&t[n](r)}function p(e,t,n){h(e),d(e,t,n)}function h(e,t){e.textNode=function(e,t){if(void 0===t)return t;e.trim&&(t=t.trim());e.normalize&&(t=t.replace(/\s+/g," "));return t}(e.opt,e.textNode),void 0!==e.textNode&&d(e,t||"onvalue",e.textNode),e.textNode=void 0}function y(e){e.numberNode&&d(e,"onvalue",parseFloat(e.numberNode)),e.numberNode=""}function b(e,t){return h(e),t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c,t=new Error(t),e.error=t,d(e,"onerror",t),e}function v(e){return e.state===i.VALUE&&0===e.depth||b(e,"Unexpected end"),h(e),e.c="",e.closed=!0,d(e,"onend"),l.call(e,e.opt),e}function m(e){return e===s.carriageReturn||e===s.lineFeed||e===s.space||e===s.tab}f.prototype=Object.create(n.prototype,{constructor:{value:f}}),f.prototype.write=function(e){e=new Buffer(e);for(var t=0;t<e.length;t++){var n=e[t];if(this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=e[r];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,t=t+r-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&n>=128){if(n>=194&&n<=223&&(this.bytes_in_sequence=2),n>=224&&n<=239&&(this.bytes_in_sequence=3),n>=240&&n<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+t>e.length){for(var o=0;o<=e.length-1-t;o++)this.temp_buffs[this.bytes_in_sequence][o]=e[t+o];return this.bytes_remaining=t+this.bytes_in_sequence-e.length,!0}this.string=e.slice(t,t+this.bytes_in_sequence).toString(),t=t+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var i=t;i<e.length&&!(e[i]>=128);i++);this.string=e.slice(t,i).toString(),this._parser.write(this.string),this.emit("data",this.string),t=i-1}}},f.prototype.end=function(e){return e&&e.length&&this._parser.write(e.toString()),this._parser.end(),!0},f.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)},f.prototype.destroy=function(){u(this._parser),this.emit("close")}}(t)}));function T(e){var r=0,a=function(e){var t,n,r,o=A.parser(),i=0,a=[],s=!1,u=!1;return o.onopenobject=function(o){var s={incomplete:!0};t||(t=s),n&&(a.push([r,n,u]),e&&(u?n.push(s):n[r]=s)),n=s,r=o,u=!1,++i},o.onkey=function(e){return r=e},o.onvalue=function(e){return u?n.push(e):n[r]=e},o.oncloseobject=function(){var t;if(delete n.incomplete,r=null,0==--i)s=!0;else{var o=n;t=a.pop(),r=t[0],n=t[1],u=t[2],e||(u?n.push(o):n[r]=o)}},o.onopenarray=function(){var o=[];o.incomplete=!0,t||(t=o),n&&(a.push([r,n,u]),e&&(u?n.push(o):n[r]=o)),n=o,u=!0,r=null,++i},o.onclosearray=function(){var t;if(delete n.incomplete,r=null,0==--i)s=!0;else{var o=n;t=a.pop(),r=t[0],n=t[1],u=t[2],e||(u?n.push(o):n[r]=o)}},{write:function(e){return o.write(e),t},done:function(){return s}}}(!0),s={pullAsync:function(i){return t(this,void 0,void 0,(function(){var t,u,c;return n(this,(function(n){switch(n.label){case 0:return t=e.slice(r,r+i),r+=i,[4,o(t,"text")];case 1:return u=n.sent(),c=a.write(u),s.result=c||{},[2,c]}}))}))},pullSync:function(t){var n=e.slice(r,r+t);r+=t;var o=i(n,"text"),u=a.write(o);return s.result=u||{},u},done:function(){return a.done()},eof:function(){return r>=e.size},result:{}};return s}var N=1024;function I(r,o){return t(this,void 0,void 0,(function(){var t,i,a,s;return n(this,(function(n){switch(n.label){case 0:return t=(o=o||{}).chunkSizeBytes||1024*N,[4,C(r,t)];case 1:return i=n.sent(),a=i.result.data,(s=new e(a.databaseName)).version(a.databaseVersion).stores(function(e){for(var t={},n=0,r=e.tables;n<r.length;n++){var o=r[n];t[o.name]=o.schema}return t}(a)),[4,x(s,i,o)];case 2:return n.sent(),[2,s]}}))}))}function P(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:t=T(e),n.label=1;case 1:return t.eof()?[3,3]:[4,t.pullAsync(5120)];case 2:return n.sent(),t.result.data&&t.result.data.data?(delete t.result.data.data,[3,3]):[3,1];case 3:return[2,t.result]}}))}))}function x(r,o,i){return t(this,void 0,void 0,(function(){function a(){return t(this,void 0,void 0,(function(){var t,o,a,c;return n(this,(function(h){switch(h.label){case 0:t=function(t){var o,a,s,u,c,l,h,y,b,v,g,w;return n(this,(function(n){switch(n.label){case 0:if(!t.rows)return[2,"break"];if(!t.rows.incomplete&&0===t.rows.length)return[2,"continue"];if(d&&e.ignoreTransaction((function(){return d(p)})),o=t.tableName,a=r.table(o),s=f.tables.filter((function(e){return e.name===o}))[0].schema,!a){if(i.acceptMissingTables)return[2,"continue"];throw new Error("Exported table "+t.tableName+" is missing in installed database")}if(!i.acceptChangedPrimaryKey&&s.split(",")[0]!=a.schema.primKey.src)throw new Error("Primary key differs for table "+t.tableName+". ");for(u=t.rows,c=[],l=0;l<u.length&&!(h=u[l]).incomplete;l++)c.push(m.revive(h));return y=i.filter,b=y?t.inbound?c.filter((function(e){return y(o,e)})):c.filter((function(e){var t=e[0],n=e[1];return y(o,n,t)})):c,v=t.inbound?[void 0,b]:[b.map((function(e){return e[0]})),c.map((function(e){return e[1]}))],g=v[0],w=v[1],i.overwriteValues?[4,a.bulkPut(w,g)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,a.bulkAdd(w,g)];case 3:n.sent(),n.label=4;case 4:return p.completedRows+=c.length,c.incomplete||(p.completedTables+=1),u.splice(0,c.length),[2]}}))},o=0,a=f.data,h.label=1;case 1:return o<a.length?(c=a[o],[5,t(c)]):[3,4];case 2:if("break"===h.sent())return[3,4];h.label=3;case 3:return o++,[3,1];case 4:for(;f.data.length>0&&f.data[0].rows&&!f.data[0].rows.incomplete;)f.data.splice(0,1);return u.done()||u.eof()?[3,8]:l?(u.pullSync(s),[3,7]):[3,5];case 5:return[4,e.waitFor(u.pullAsync(s))];case 6:h.sent(),h.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}}))}))}var s,u,c,l,f,d,p,h,y;return n(this,(function(t){switch(t.label){case 0:return s=(i=i||{}).chunkSizeBytes||1024*N,[4,C(o,s)];case 1:if(u=t.sent(),c=u.result,l="FileReaderSync"in self,f=c.data,!i.acceptNameDiff&&r.name!==f.databaseName)throw new Error("Name differs. Current database name is "+r.name+" but export is "+f.databaseName);if(!i.acceptVersionDiff&&r.verno!==f.databaseVersion)throw new Error("Database version differs. Current database is in version "+r.verno+" but export is "+f.databaseVersion);if(d=i.progressCallback,p={done:!1,completedRows:0,completedTables:0,totalRows:f.tables.reduce((function(e,t){return e+t.rowCount}),0),totalTables:f.tables.length},d&&e.ignoreTransaction((function(){return d(p)})),!i.clearTablesBeforeImport)return[3,5];h=0,y=r.tables,t.label=2;case 2:return h<y.length?[4,y[h].clear()]:[3,5];case 3:t.sent(),t.label=4;case 4:return h++,[3,2];case 5:return i.noTransaction?[4,a()]:[3,7];case 6:return t.sent(),[3,9];case 7:return[4,r.transaction("rw",r.tables,a)];case 8:t.sent(),t.label=9;case 9:return p.done=!0,d&&e.ignoreTransaction((function(){return d(p)})),[2]}}))}))}function C(e,r){return t(this,void 0,void 0,(function(){var t,o;return n(this,(function(n){switch(n.label){case 0:t="slice"in e?T(e):e,n.label=1;case 1:return t.eof()?[3,3]:[4,t.pullAsync(r)];case 2:return n.sent(),t.result.data&&t.result.data.data?[3,3]:[3,1];case 3:if(!(o=t.result)||"dexie"!=o.formatName)throw new Error("Given file is not a dexie export");if(o.formatVersion>O)throw new Error("Format version "+o.formatVersion+" not supported");if(!o.data)throw new Error("No data in export file");if(!o.data.databaseName)throw new Error("Missing databaseName in export file");if(!o.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!o.data.tables)throw new Error("Missing tables in export file");return[2,t]}}))}))}e.prototype.export=function(e){return E(this,e)},e.prototype.import=function(e,t){return x(this,e,t)},e.import=function(e,t){return I(e,t)};var j=function(){throw new Error("This addon extends Dexie.prototype globally and does not have be included in Dexie constructor's addons options.")};export{j as default,E as exportDB,I as importDB,x as importInto,P as peakImportFile};
